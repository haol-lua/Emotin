<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ë£¨ì•„ì˜ ê°ì •í…ŒìŠ¤íŠ¸ & ëª…ì–¸ğŸ’™</title>
  <link href="https://fonts.googleapis.com/css2?family=Gowun+Batang:wght@400;700&display=swap" rel="stylesheet">

  <style>
    body {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center; /* ìˆ˜ì§ ì¤‘ì•™ ì •ë ¬ ìœ ì§€ */
      min-height: 100vh;
      margin: 0;
      padding: 20px;
      /* ê¸€ê¼´ ë³€ê²½ */
      font-family: 'Gowun Batang', serif;
      /* ë°°ê²½ìƒ‰ ì¡°ì •: ëˆˆì´ í¸í•˜ê³  ë”°ëœ»í•œ ëŠë‚Œì˜ ìƒ‰ìƒ */
      background-color: #fff0e0; /* ë¶€ë“œëŸ¬ìš´ ë³µìˆ­ì•„/ë² ì´ì§€ í†¤ ìœ ì§€ */
      color: #333; /* ê¸°ë³¸ í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
      box-sizing: border-box;
      padding-bottom: 80px; /* ê³ ì • ë²„íŠ¼ ì˜ì—­ë§Œí¼ í•˜ë‹¨ íŒ¨ë”© ì¶”ê°€ */
      overflow-y: auto; /* ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ì • */
    }

    /* Text elements that will fade */
    .fade-element {
      opacity: 0;
      transition: opacity 0.5s ease-in-out;
      text-align: center;
      margin-bottom: 20px;
      width: 100%;
      max-width: 600px;
    }

    /* Class to make elements visible */
    .fade-element.visible {
      opacity: 1;
    }

    h1 {
      font-size: 1.8em;
      color: #5a3e36; /* ì œëª© ìƒ‰ìƒ ì¡°ì • */
      margin-bottom: 30px; /* ì œëª©ê³¼ ë‚´ìš© ê°„ê²© ì¶”ê°€ */
      font-weight: bold; /* ì§ˆë¬¸ í…ìŠ¤íŠ¸ êµµê¸° (ê¸°ë³¸ h1ë³´ë‹¤ ëª…ì‹œì ìœ¼ë¡œ) */
    }

    p {
        font-size: 1.1em;
        line-height: 1.6;
    }

    /* ë²„íŠ¼ ì»¨í…Œì´ë„ˆ - ìœ„ì¹˜ ê³ ì • */
    .buttons {
      text-align: center;
      opacity: 0;
      transition: opacity 0.5s ease-in-out 0.3s;
      width: 100%;
      /* ìœ„ì¹˜ ê³ ì • */
      position: fixed;
      bottom: 0; /* í•˜ë‹¨ì— ê³ ì • */
      left: 0;
      width: 100%; /* ë„ˆë¹„ ì „ì²´ */
      background-color: #fff0e0; /* ë°°ê²½ìƒ‰ê³¼ ë™ì¼í•˜ê²Œ ì„¤ì • */
      padding: 10px 20px; /* íŒ¨ë”© ì¶”ê°€ */
      box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.1); /* ìƒë‹¨ ê·¸ë¦¼ì */
      box-sizing: border-box; /* íŒ¨ë”© í¬í•¨ */
      z-index: 1000;
       /* JSì—ì„œ display ì œì–´ */
      display: none; /* Initially hidden by default */
    }


    .buttons.visible {
        opacity: 1;
    }

    button {
      margin: 8px; /* ë²„íŠ¼ ê°„ ê¸°ë³¸ ë§ˆì§„ */
      padding: 12px 25px;
      font-size: 1em;
      cursor: pointer;
      border: none;
      border-radius: 8px;
      /* ë²„íŠ¼ ìƒ‰ìƒ ì¡°ì •: ë°°ê²½ìƒ‰ê³¼ ì–´ìš¸ë¦¬ë„ë¡ */
      background-color: #ff914d; /* ë”°ëœ»í•œ ì˜¤ë Œì§€ í†¤ */
      color: white;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      transition: background-color 0.3s ease, transform 0.1s ease;
    }

    button:hover {
      background-color: #357abd; /* í˜¸ë²„ ì‹œ ì•½ê°„ ì–´ë‘¡ê²Œ */
    }

    button:active {
        transform: scale(0.98);
    }

    /* ìƒˆë¡œìš´ ì²« í™”ë©´ ìŠ¤íƒ€ì¼ */
    #initial-page {
        display: flex; /* JSì—ì„œ ì œì–´ */
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
        min-height: calc(100vh - 80px); /* ë²„íŠ¼ ì˜ì—­ ì œì™¸ ë†’ì´ */
        box-sizing: border-box;
        opacity: 0; /* JSì—ì„œ ì œì–´ */
        transition: opacity 0.5s ease-in-out;
         /* Initially hidden by default */
        display: none;
    }

    #initial-page.visible {
        opacity: 1;
    }

    #initial-page h1 {
        margin-bottom: 10px;
    }

    #initial-page .buttons {
        position: static; /* ì²« í™”ë©´ ë²„íŠ¼ì€ ê³ ì • í•´ì œ */
        box-shadow: none;
        background-color: transparent;
        padding: 0;
        margin-top: 20px;
        opacity: 0; /* JSì—ì„œ ë³„ë„ë¡œ í˜ì´ë“œì¸ ì œì–´ */
        transition: opacity 0.5s ease-in-out 0.5s; /* í…ìŠ¤íŠ¸ í˜ì´ë“œì¸ í›„ ì§€ì—° */
         /* JSì—ì„œ display ì œì–´ */
        display: none; /* Initially hidden by default */
    }

    #initial-page .buttons.visible {
        opacity: 1;
    }


    /* ê°ì • í…ŒìŠ¤íŠ¸ ê´€ë ¨ ìš”ì†Œë“¤ (ì´ˆê¸° ìˆ¨ê¹€) */
    #emotion-test-area {
        display: none; /* JSì—ì„œ ì œì–´ */
        flex-direction: column;
        align-items: center;
        justify-content: center;
        width: 100%;
        max-width: 600px;
        min-height: calc(100vh - 80px); /* ë²„íŠ¼ ì˜ì—­ ì œì™¸ ë†’ì´ */
        box-sizing: border-box;
        opacity: 0; /* JSì—ì„œ ì œì–´ */
        transition: opacity 0.5s ease-in-out;
         /* Initially hidden by default */
        display: none;
    }

    #emotion-test-area.visible {
         opacity: 1;
    }

    #emotion-test-area > .fade-element {
        /* ê°ì • í…ŒìŠ¤íŠ¸ ë‚´ë¶€ ìš”ì†Œë“¤ì˜ í˜ì´ë“œì¸/ì•„ì›ƒ */
        opacity: 0;
        transition: opacity 0.5s ease-in-out;
    }

     #emotion-test-area > .fade-element.visible {
         opacity: 1;
     }


    #emotion-test-area #emotion-choice h1 {
        margin-bottom: 10px;
    }

    #emotion-test-area #emotion-choice .buttons button {
        margin: 10px;
        background-color: #ffc107; /* ê°ì • ì„ íƒ ë²„íŠ¼ ìƒ‰ìƒ */
    }
    #emotion-test-area #emotion-choice .buttons button:hover {
        background-color: #ffb300;
    }


    /* ê²°ê³¼ í…ìŠ¤íŠ¸ ì˜ì—­ ìŠ¤íƒ€ì¼ */
    #emotion-test-area #result {
      font-size: 1.3em;
      color: #333;
      margin-top: 20px;
      text-align: center;
      max-width: 600px;
      line-height: 1.6;
      opacity: 0;
      transition: opacity 0.5s ease-in-out;
      margin-bottom: 80px; /* ê²°ê³¼ í…ìŠ¤íŠ¸ í•˜ë‹¨ì—ë„ ê³ ì • ë²„íŠ¼ ì˜ì—­ë§Œí¼ íŒ¨ë”© ì¶”ê°€ */
    }

    #emotion-test-area #result.visible {
        opacity: 1;
    }

    #emotion-test-area #result .result-text-area {
        min-height: 150px;
        text-align: left;
        padding: 0;
        border: none;
        border-radius: 0;
        background-color: transparent;
        box-shadow: none;
        /* í˜ì´ì§€ë„¤ì´ì…˜ ì „í™˜ ì• ë‹ˆë©”ì´ì…˜ - opacity ì „í™˜ ì‹œê°„ ì¡°ì • */
        transition: opacity 1.5s ease-in-out; /* ì´ì „ 0.3sì—ì„œ 1.5së¡œ ì¦ê°€ */
    }

     #emotion-test-area #result .result-text-area p {
         margin-bottom: 10px;
         font-weight: 500; /* ì¼ë°˜ í…ìŠ¤íŠ¸ êµµê¸° ì¡°ì • (ì§ˆë¬¸ í…ìŠ¤íŠ¸ì™€ ìœ ì‚¬í•˜ê²Œ) */
     }

     #emotion-test-area #result .result-text-area strong {
         display: block;
         margin-bottom: 5px;
         color: #7a5b50; /* ì œëª© ë¶€ë¶„ ìƒ‰ìƒ ì¡°ì • */
         font-weight: bold; /* strong íƒœê·¸ëŠ” ë” ì§„í•˜ê²Œ */
     }

     #emotion-test-area #result .result-text-area hr {
         margin: 20px 0;
         border: 0;
         border-top: 1px solid #e0d0c0; /* êµ¬ë¶„ì„  ìƒ‰ìƒ ì¡°ì • */
     }


    /* ê°ì • í…ŒìŠ¤íŠ¸ ë²„íŠ¼ ì»¨í…Œì´ë„ˆ (ì§ˆë¬¸/ê²°ê³¼) */
    #emotion-test-area .buttons {
        position: fixed; /* ê°ì • í…ŒìŠ¤íŠ¸ ì¤‘ ë²„íŠ¼ì€ ê³ ì • */
        bottom: 0;
        left: 0;
        width: 100%;
        background-color: #fff0e0;
        padding: 10px 20px;
        box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.1);
        box-sizing: border-box;
        z-index: 1000;
        display: flex; /* JSì—ì„œ ì œì–´ */
        justify-content: center;
        align-items: center;
        flex-wrap: wrap;
        opacity: 0; /* JSì—ì„œ ì œì–´ */
        transition: opacity 0.5s ease-in-out;
         /* Initially hidden by default */
        display: none;
    }

    #emotion-test-area .buttons.visible {
        opacity: 1;
    }


    /* í˜ì´ì§€ë„¤ì´ì…˜ ë²„íŠ¼ ì»¨í…Œì´ë„ˆ */
    .pagination-buttons {
        opacity: 0;
        transition: opacity 0.5s ease-in-out;
        display: flex; /* JSì—ì„œ ì œì–´ */
        justify-content: center;
        align-items: center;
        flex-wrap: wrap;
        /* ìœ„ì¹˜ ê³ ì • */
        position: fixed;
        bottom: 0; /* í•˜ë‹¨ì— ê³ ì • */
        left: 0;
        width: 100%; /* ë„ˆë¹„ ì „ì²´ */
        background-color: #fff0e0; /* ë°°ê²½ìƒ‰ê³¼ ë™ì¼í•˜ê²Œ ì„¤ì • */
        padding: 10px 20px; /* íŒ¨ë”© ì¶”ê°€ */
        box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.1); /* ìƒë‹¨ ê·¸ë¦¼ì */
        box-sizing: border-box; /* íŒ¨ë”© í¬í•¨ */
        z-index: 1000;
         /* Initially hidden by default */
        display: none;
    }

    .pagination-buttons.visible {
        opacity: 1;
    }

    .pagination-buttons button {
        margin: 5px 8px;
    }


    /* ëª…ì–¸ í˜ì´ì§€ ê´€ë ¨ ìš”ì†Œë“¤ (ì´ˆê¸° ìˆ¨ê¹€) */
    #quote-page {
        display: none; /* JSì—ì„œ ì œì–´ */
        flex-direction: column;
        align-items: center;
        justify-content: center;
        width: 100%;
        max-width: 600px;
         min-height: calc(100vh - 80px); /* ë²„íŠ¼ ì˜ì—­ ì œì™¸ ë†’ì´ */
        box-sizing: border-box;
        text-align: center;
        opacity: 0; /* JSì—ì„œ ì œì–´ */
        transition: opacity 0.5s ease-in-out;
         /* Initially hidden by default */
        display: none;
    }

    #quote-page.visible {
        opacity: 1;
    }

    #quote-page h1 {
        margin-bottom: 30px;
    }

    #quote-display {
        font-size: 1.4em;
        line-height: 1.8;
        min-height: 150px; /* ëª…ì–¸ì´ í‘œì‹œë  ìµœì†Œ ë†’ì´ */
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        margin-bottom: 30px;
        padding: 20px;
        /* ë°•ìŠ¤ ìŠ¤íƒ€ì¼ ì œê±° */
        /* border: 1px solid #e0d0c0; */
        /* border-radius: 10px; */
        /* background-color: #ffffff; */
        /* box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05); */
        width: 100%;
        box-sizing: border-box;
        overflow: hidden; /* ìŠ¬ë¡¯ ì• ë‹ˆë©”ì´ì…˜ ì‹œ ë‚´ìš© ë„˜ì¹¨ ë°©ì§€ */
        position: relative; /* ì• ë‹ˆë©”ì´ì…˜ì„ ìœ„í•œ ê¸°ì¤€ì  */
         /* ìŠ¬ë¡¯ ì• ë‹ˆë©”ì´ì…˜ì„ ìœ„í•œ CSS */
        opacity: 1; /* ì´ˆê¸° opacity ì„¤ì • */
        transition: opacity 0.1s ease-in-out; /* ë¹ ë¥¸ ì „í™˜ */
    }

    /* ìŠ¬ë¡¯ ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ë¥¼ ìœ„í•œ í´ë˜ìŠ¤ */
    .slot-animating {
        /* ì• ë‹ˆë©”ì´ì…˜ ì¤‘ì¼ ë•Œ ì ìš©ë  ìŠ¤íƒ€ì¼ */
        /* JSì—ì„œ opacityë¥¼ ë¹ ë¥´ê²Œ ë³€ê²½í•˜ë©° ì• ë‹ˆë©”ì´ì…˜ êµ¬í˜„ */
    }


    /* ëª…ì–¸ í˜ì´ì§€ í•˜ë‹¨ ë²„íŠ¼ ì»¨í…Œì´ë„ˆ */
    #quote-page .buttons {
         position: fixed; /* ëª…ì–¸ í˜ì´ì§€ ì¤‘ ë²„íŠ¼ì€ ê³ ì • */
         bottom: 0;
         left: 0;
         width: 100%;
         background-color: #fff0e0;
         padding: 10px 20px;
         box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.1);
         box-sizing: border-box;
         z-index: 1000;
         display: flex; /* JSì—ì„œ ì œì–´ */
         justify-content: center;
         align-items: center;
         flex-wrap: wrap;
         opacity: 0; /* JSì—ì„œ ì œì–´ */
         transition: opacity 0.5s ease-in-out;
          /* Initially hidden by default */
         display: none;
    }

     #quote-page .buttons.visible {
        opacity: 1;
     }

    /* ëª…ì–¸ í˜ì´ì§€ì˜ 'ìƒˆë¡œìš´ ëª…ì–¸ ë³´ê¸°' ë²„íŠ¼ ìƒ‰ìƒ */
    #quote-page .buttons #get-quote-button {
         background-color: #6a5acd; /* ë¶€ë“œëŸ¬ìš´ ë³´ë¼ìƒ‰ í†¤ */
         /* margin-bottom: 0; */ /* í•˜ë‹¨ ê³ ì • ë²„íŠ¼ ì»¨í…Œì´ë„ˆì— ìˆìœ¼ë¯€ë¡œ margin ì¡°ì • */
         margin: 8px; /* ê¸°ë³¸ ë²„íŠ¼ ë§ˆì§„ ìœ ì§€ */
    }
     #quote-page .buttons #get-quote-button:hover {
        background-color: #5a4ac0;
     }


  </style>
</head>
<body>

    <div id="initial-page">
        <h1 class="fade-element">ë£¨ì•„ì˜ ê°ì • & ëª…ì–¸</h1>
        <p class="fade-element">ë‹¹ì‹ ì˜ ë§ˆìŒì„ ë“¤ì—¬ë‹¤ë³´ê±°ë‚˜<br>ì˜¤ëŠ˜ì˜ í˜ì´ ë˜ëŠ” ëª…ì–¸ì„ ë§Œë‚˜ë³´ì„¸ìš”.</p>
        <div class="buttons" id="initial-buttons">
            <button onclick="showEmotionTestStart()">ê°ì • í…ŒìŠ¤íŠ¸ ì‹œì‘</button>
            <button onclick="showQuotePage()">ì˜¤ëŠ˜ì˜ ëª…ì–¸ ë³´ê¸°</button>
        </div>
    </div>


    <div id="emotion-test-area">
        <h1 id="title" class="fade-element">ë£¨ì•„ì˜ ê°ì •í…ŒìŠ¤íŠ¸ğŸ’™</h1>
        <p id="description" class="fade-element">ë‹¹ì‹ ì˜ ê°ì • íë¦„ì„ ì•Œì•„ë³´ëŠ” ê°„ë‹¨í•œ í…ŒìŠ¤íŠ¸ì…ë‹ˆë‹¤.<br>ê° ì§ˆë¬¸ì— ì†”ì§í•˜ê²Œ ë‹µí•´ ì£¼ì„¸ìš”.</p>
        <div class="buttons" id="start-button">
            <button onclick="chooseEmotion()">OK</button>
        </div>

        <div id="emotion-choice" class="fade-element">
            <h1>ë‹¹ì‹ ì´ ê¶ê¸ˆí•œ ê°ì •ì€ ë¬´ì—‡ì¸ê°€ìš”?</h1>
            <div class="buttons">
                <button onclick="selectEmotion('ì‚¬ë‘')">ğŸ’– ì‚¬ë‘</button>
                <button onclick="selectEmotion('ìŠ¬í””')">ğŸŒ§ï¸ ìŠ¬í””</button>
                <button onclick="selectEmotion('ê¸°ì¨')">ğŸŒ ê¸°ì¨</button>
                <button onclick="selectEmotion('ë‘ë ¤ì›€')">ğŸ›¡ï¸ ë‘ë ¤ì›€</button>
                <button onclick="selectEmotion('ìš©ê¸°')">ğŸ¦‹ ìš©ê¸°</button>
            </div>
        </div>

        <h1 id="question" class="fade-element"></h1>
        <div class="buttons" id="answer-buttons">
            <button onclick="handleAnswer('yes')">Yes</button>
            <button onclick="handleAnswer('no')">No</button>
        </div>

        <div id="result" class="fade-element">
            <div class="result-text-area"></div>
        </div>

        <div class="pagination-buttons" id="result-buttons">
            <button id="prev-button" onclick="navigateResult(-1)">ì´ì „</button>
            <button id="next-button" onclick="navigateResult(1)">ë‹¤ìŒ</button>
            <button id="restart-button" onclick="restartTest()">ì²˜ìŒìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
        </div>
    </div>

    <div id="quote-page">
        <h1>ì˜¤ëŠ˜ì˜ ëª…ì–¸</h1>
        <div id="quote-display">
            <p>ë²„íŠ¼ì„ ëˆŒëŸ¬ ì˜¤ëŠ˜ì˜ ëª…ì–¸ì„ í™•ì¸í•˜ì„¸ìš”!</p>
        </div>
        <div class="buttons">
             <button id="get-quote-button">ìƒˆë¡œìš´ ëª…ì–¸ ë³´ê¸°</button>
             <button onclick="showInitialPage()">ì²˜ìŒìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
        </div>
    </div>


  <script src="quotes.js"></script> <script src="results_data.js"></script> <script>
    // --- DOM Element References ---
    const initialPageEl = document.getElementById('initial-page');
    const initialButtonsEl = document.getElementById('initial-buttons'); // ìƒˆë¡œìš´ ì²« í™”ë©´ ë²„íŠ¼ ì»¨í…Œì´ë„ˆ

    const emotionTestAreaEl = document.getElementById('emotion-test-area'); // ê°ì • í…ŒìŠ¤íŠ¸ ì „ì²´ ì˜ì—­
    const titleEl = document.getElementById('title');
    const descriptionEl = document.getElementById('description');
    const startButtonEl = document.getElementById('start-button'); // ê°ì • í…ŒìŠ¤íŠ¸ ì‹œì‘ ë²„íŠ¼ ì»¨í…Œì´ë„ˆ
    const emotionChoiceEl = document.getElementById('emotion-choice');
    const emotionButtonsEl = emotionChoiceEl.querySelector('.buttons'); // ê°ì • ì„ íƒ ë²„íŠ¼ ì»¨í…Œì´ë„ˆ
    const questionEl = document.getElementById('question');
    const answerButtonsEl = document.getElementById('answer-buttons'); // ì§ˆë¬¸ ë‹µë³€ ë²„íŠ¼ ì»¨í…Œì´ë„ˆ
    const resultEl = document.getElementById('result');
    const resultTextAreaEl = resultEl.querySelector('.result-text-area'); // ê²°ê³¼ í…ìŠ¤íŠ¸ê°€ í‘œì‹œë  ì˜ì—­
    const resultButtonsEl = document.getElementById('result-buttons'); // ê²°ê³¼ í˜ì´ì§€ë„¤ì´ì…˜ ë²„íŠ¼ ì»¨í…Œì´ë„ˆ
    const prevButtonEl = document.getElementById('prev-button'); // ì´ì „ ë²„íŠ¼
    const nextButtonEl = document.getElementById('next-button'); // ë‹¤ìŒ ë²„íŠ¼
    const restartButtonEl = document.getElementById('restart-button'); // ì¬ì‹œì‘ ë²„íŠ¼ (ê°ì • í…ŒìŠ¤íŠ¸)

    const quotePageEl = document.getElementById('quote-page'); // ëª…ì–¸ í˜ì´ì§€ ì „ì²´ ì˜ì—­
    const quoteDisplayEl = document.getElementById('quote-display'); // ëª…ì–¸ í‘œì‹œ ì˜ì—­
    const getQuoteButtonEl = document.getElementById('get-quote-button'); // ëª…ì–¸ ë³´ê¸° ë²„íŠ¼
    const quotePageButtonsEl = quotePageEl.querySelector('.buttons'); // ëª…ì–¸ í˜ì´ì§€ í•˜ë‹¨ ë²„íŠ¼ ì»¨í…Œì´ë„ˆ


    // --- Question Data Structure ---
    // (results_data.jsì—ì„œ ë¡œë“œë©ë‹ˆë‹¤)


    // --- ëª…ì–¸ ë°ì´í„° (quotes.js íŒŒì¼ì—ì„œ ë¡œë“œë©ë‹ˆë‹¤) ---
    // const quotes = [...]; // ì´ ë°°ì—´ ì„ ì–¸ì€ quotes.js íŒŒì¼ë¡œ ì´ë™í–ˆìŠµë‹ˆë‹¤.


    // --- State Variables ---
    let selectedTree = null;
    let currentNode = null;
    let answers = [];
    let currentResultSections = []; // ê²°ê³¼ë¥¼ ì„¹ì…˜ë³„ë¡œ ì €ì¥í•  ë°°ì—´
    let currentSectionIndex = 0; // í˜„ì¬ í‘œì‹œ ì¤‘ì¸ ê²°ê³¼ ì„¹ì…˜ ì¸ë±ìŠ¤
    let slotAnimationInterval = null; // ìŠ¬ë¡¯ ì• ë‹ˆë©”ì´ì…˜ ì¸í„°ë²Œ ID


    // --- Utility Functions ---

    /**
     * Hides a specific content area by removing the 'visible' class and setting display to 'none' after transition.
     * @param {HTMLElement} element - The element to hide.
     */
    function hideContentArea(element) {
        element.classList.remove('visible');
        // Set display to none after fade out transition
        setTimeout(() => {
            element.style.display = 'none';
        }, 500); // Match CSS transition duration
    }

     /**
     * Hides a specific button container by removing the 'visible' class and setting display to 'none' immediately.
     * @param {HTMLElement} element - The button container element to hide.
     */
    function hideButtonContainer(element) {
         element.classList.remove('visible');
         element.style.display = 'none'; // Hide immediately
    }


    /**
     * Shows a specific content area by setting its display and adding the 'visible' class.
     * @param {HTMLElement} element - The element to show.
     * @param {string} [displayType='flex'] - The CSS display type ('flex' or 'block').
     */
    function showContentArea(element, displayType = 'flex') {
         // Ensure element starts hidden before fading in
        element.classList.remove('visible');
        element.style.opacity = 0; // Explicitly set opacity to 0

        element.style.display = displayType; // Set display type

        // Use a small timeout to allow the display change to render before fading in
        setTimeout(() => {
            element.classList.add('visible');
            element.style.opacity = 1; // Explicitly set opacity to 1 to trigger transition
        }, 50); // Short delay
    }

     /**
     * Shows a specific button container by setting its display and adding the 'visible' class.
     * @param {HTMLElement} element - The button container element to show.
     * @param {string} [displayType='flex'] - The CSS display type ('flex' or 'block').
     */
     function showButtonContainer(element, displayType = 'flex') {
         // Ensure element starts hidden before fading in
        element.classList.remove('visible');
        element.style.opacity = 0; // Explicitly set opacity to 0

        element.style.display = displayType; // Set display type

        // Use a small timeout to allow the display change to render before fading in
        setTimeout(() => {
            element.classList.add('visible');
            element.style.opacity = 1; // Explicitly set opacity to 1 to trigger transition
        }, 50); // Short delay
     }


    // --- Text Display Function (Smooth Fade-in) ---
    /**
     * Displays the given HTML string in the target element with a smooth fade-in animation.
     * @param {HTMLElement} element - The element to display into (e.g., resultTextAreaEl).
     * @param {string} htmlString - The HTML string to display.
     * @param {Function} onComplete - Callback function to execute after fade-in is complete.
     */
    function displayResultTextSmoothly(element, htmlString, onComplete) {
        // Fade out current content first
        element.style.opacity = 0;

        // Wait for fade-out to complete before changing content and fading in
        const fadeOutDelay = 300; // Shorter delay for fade-out
        const fadeInDuration = 1500; // Match CSS transition duration (1.5s) for fade-in

        setTimeout(() => {
            element.innerHTML = htmlString; // Set new content instantly

            // Fade in new content - use a very small delay to ensure transition triggers
            setTimeout(() => {
                element.style.opacity = 1;
                 // Execute onComplete callback after the fade-in transition duration
                setTimeout(() => {
                     if (onComplete) onComplete();
                }, fadeInDuration);
            }, 50); // Small delay to allow browser to register opacity: 0 before opacity: 1

        }, fadeOutDelay); // Use the defined fade out delay
    }

    // --- Function to process result section HTML (remove numbers) ---
    /**
     * Processes a single result section HTML string to remove leading numbers (e.g., "1. ").
     * Assumes the number is at the start of the text content within the first <p> or <strong> tag.
     * @param {string} sectionHTML - The HTML string for a single result section.
     * @returns {string} The processed HTML string with leading numbers removed.
     */
    function processResultSectionHTML(sectionHTML) {
        const tempDiv = document.createElement('div');
        tempDiv.innerHTML = sectionHTML.trim(); // Use trim() in case there's leading/trailing whitespace

        // Find the first text node or element that might contain the number prefix
        let targetNode = null;
        if (tempDiv.firstChild) {
             // Check if the first child is a text node or an element
            if (tempDiv.firstChild.nodeType === Node.TEXT_NODE) {
                targetNode = tempDiv.firstChild;
            } else if (tempDiv.firstChild.nodeType === Node.ELEMENT_NODE) {
                // If it's an element (like <p> or <strong>), look inside it
                const firstElement = tempDiv.firstChild;
                if (firstElement.firstChild && firstElement.firstChild.nodeType === Node.TEXT_NODE) {
                    targetNode = firstElement.firstChild;
                } else if (firstElement.tagName === 'STRONG' && firstElement.firstChild && firstElement.firstChild.nodeType === Node.TEXT_NODE) {
                     targetNode = firstElement.firstChild; // Target text inside <strong>
                } else {
                    // Look for text within nested elements if necessary (simple case)
                    const textNodes = [];
                    function findTextNodes(node) {
                        if (node.nodeType === Node.TEXT_NODE && node.textContent.trim().length > 0) {
                            textNodes.push(node);
                        }
                        for (let i = 0; i < node.childNodes.length; i++) {
                            findTextNodes(node.childNodes[i]);
                        }
                    }
                    findTextNodes(firstElement);
                    if (textNodes.length > 0) {
                        targetNode = textNodes[0]; // Take the first non-empty text node found
                    }
                }
            }
        }


        if (targetNode && targetNode.nodeType === Node.TEXT_NODE) {
            let textContent = targetNode.textContent;
            // Use regex to find and remove leading number and dot (e.g., "1. ", " 2. ")
            const numberPrefixRegex = /^\s*\d+\.\s*/;
            if (numberPrefixRegex.test(textContent)) {
                targetNode.textContent = textContent.replace(numberPrefixRegex, '');
            }
        }

        // Return the modified HTML string
        return tempDiv.innerHTML;
    }

    // --- ëª…ì–¸ ê´€ë ¨ í•¨ìˆ˜ ---
    /**
     * Get a random quote from the quotes array.
     * @returns {string} A random quote.
     */
    function getRandomQuote() {
        // Ensure quotes array is loaded from quotes.js
        if (typeof quotes === 'undefined' || quotes.length === 0) {
             console.error("Quotes data not loaded or empty.");
             return "ëª…ì–¸ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.";
        }
        const randomIndex = Math.floor(Math.random() * quotes.length);
        return quotes[randomIndex];
    }

    /**
     * Starts the slot machine-like animation for displaying a quote.
     */
    function startSlotAnimation() {
        const animationDuration = 3000; // Animation duration in milliseconds (increased for smoother feel)
        const frameRate = 70; // Time between quote changes in milliseconds (increased for slower change)
        const totalFrames = animationDuration / frameRate;
        let currentFrame = 0;

        // Disable the button during animation
        getQuoteButtonEl.disabled = true;

        // Clear any existing interval
        if (slotAnimationInterval) {
            clearInterval(slotAnimationInterval);
        }

        // Start the animation
        slotAnimationInterval = setInterval(() => {
            // Rapidly change content with quick fade
            quoteDisplayEl.style.opacity = 0; // Start fade out
            setTimeout(() => {
                 quoteDisplayEl.innerHTML = `<p>${getRandomQuote()}</p>`; // Change content
                 quoteDisplayEl.style.opacity = 1; // Start fade in
            }, 100); // Short delay for fade out

            currentFrame++;

            if (currentFrame >= totalFrames) {
                // Animation finished, stop interval and display the final quote
                clearInterval(slotAnimationInterval);
                slotAnimationInterval = null; // Reset interval ID
                displayFinalQuote();
            }
        }, frameRate);
    }

    /**
     * Displays the final random quote after the animation.
     */
    function displayFinalQuote() {
        const finalQuote = getRandomQuote();
        // Ensure final quote fades in smoothly
        quoteDisplayEl.style.opacity = 0; // Fade out current (last animated) quote
        setTimeout(() => {
            quoteDisplayEl.innerHTML = `<p>${finalQuote}</p>`; // Set final quote
            quoteDisplayEl.style.opacity = 1; // Fade in final quote
             // Re-enable the button after the final fade-in completes
            setTimeout(() => {
                 getQuoteButtonEl.disabled = false;
            }, 500); // Match the CSS transition duration for fade-in
        }, 300); // Match the fadeOutDelay used in displayResultTextSmoothly, or adjust as needed
    }


    // --- Page Transition Functions ---

    // Show the initial page
    function showInitialPage() {
        // Hide all other content areas and buttons first
        hideContentArea(emotionTestAreaEl);
        hideContentArea(quotePageEl);
        hideButtonContainer(startButtonEl);
        hideButtonContainer(answerButtonsEl);
        hideButtonContainer(resultButtonsEl);
        hideButtonContainer(emotionButtonsEl);
        hideButtonContainer(quotePageButtonsEl);


        // Show initial page elements
        showContentArea(initialPageEl, 'flex'); // Show initial page container
        // Fade in text elements and buttons within the initial page
        setTimeout(() => {
             initialPageEl.querySelectorAll('.fade-element').forEach(el => el.classList.add('visible'));
             showButtonContainer(initialButtonsEl, 'flex');
        }, 100); // Short delay after initial page container fade-in starts
    }


    // Show the emotion test start page
    function showEmotionTestStart() {
        // Hide all other areas
        hideContentArea(initialPageEl);
        hideContentArea(quotePageEl);
        hideButtonContainer(initialButtonsEl);
        hideButtonContainer(quotePageButtonsEl);


        // Reset emotion test state
        selectedTree = null;
        currentNode = null;
        answers = [];
        currentResultSections = [];
        currentSectionIndex = 0;
        resultTextAreaEl.innerHTML = ''; // Clear result text


        // Show emotion test area
        showContentArea(emotionTestAreaEl, 'flex'); // Show emotion test area container

        // Fade in emotion test start elements
        setTimeout(() => {
            // Ensure display is set before adding visible class for fade-in
            titleEl.style.display = 'block';
            descriptionEl.style.display = 'block';
            // startButtonEl.style.display = 'flex'; // Handled by showButtonContainer

            // Add visible class after a short delay to trigger fade-in
            setTimeout(() => {
                titleEl.classList.add('visible');
                descriptionEl.classList.add('visible');
                showButtonContainer(startButtonEl, 'flex'); // Show start button container
            }, 50); // Short delay
        }, 100); // Short delay after emotion test area fade-in starts
    }

    // Show the quote page
    function showQuotePage() {
        // Hide all other areas
        hideContentArea(initialPageEl);
        hideContentArea(emotionTestAreaEl);
        hideButtonContainer(initialButtonsEl);
        hideButtonContainer(startButtonEl);
        hideButtonContainer(answerButtonsEl);
        hideButtonContainer(resultButtonsEl);
        hideButtonContainer(emotionButtonsEl);


        // Reset quote page state
        if (slotAnimationInterval) {
            clearInterval(slotAnimationInterval);
            slotAnimationInterval = null;
        }
        getQuoteButtonEl.disabled = false;
        quoteDisplayEl.innerHTML = '<p>ë²„íŠ¼ì„ ëˆŒëŸ¬ ì˜¤ëŠ˜ì˜ ëª…ì–¸ì„ í™•ì¸í•˜ì„¸ìš”!</p>'; // Reset quote display


        // Show quote page
        showContentArea(quotePageEl, 'flex'); // Show quote page container

        // Fade in quote page elements
        setTimeout(() => {
            quotePageEl.querySelectorAll('.fade-element').forEach(el => el.classList.add('visible')); // Fade in title etc.
            // Fade in the buttons on the quote page
             showButtonContainer(quotePageButtonsEl, 'flex');
        }, 100); // Short delay after quote page container fade-in starts
    }


    // --- Emotion Test Functions ---

    // Start the test: Hide emotion test start, show emotion choice
    function chooseEmotion() {
        console.log('chooseEmotion called'); // Debugging log
        // Fade out emotion test start elements
        titleEl.classList.remove('visible');
        descriptionEl.classList.remove('visible');
        hideButtonContainer(startButtonEl); // Hide start button container immediately


        setTimeout(() => {
            // Hide emotion test start elements after fade out
            titleEl.style.display = 'none';
            descriptionEl.style.display = 'none';
            // startButtonEl.style.display = 'none'; // Handled by hideButtonContainer


            // Clear previous result stuff
            resultTextAreaEl.innerHTML = '';
            hideButtonContainer(resultButtonsEl); // Hide result buttons
            resultEl.classList.remove('visible');
            resultEl.style.display = 'none'; // Ensure result area is hidden


            // Show emotion choice div and its buttons div
            emotionChoiceEl.style.display = 'block'; // emotionChoiceEl is block
            showButtonContainer(emotionButtonsEl, 'flex'); // Show emotion choice buttons container


            // Fade in emotion choice div and its buttons div
            setTimeout(() => {
                emotionChoiceEl.classList.add('visible');
                // emotionButtonsEl.classList.add('visible'); // Handled by showButtonContainer
            }, 50); // Short delay before adding visible class

        }, 500); // Match CSS transition duration for fade out
    }

    // Emotion selected: Hide emotion choice, show first question
    function selectEmotion(emotion) {
      selectedTree = questionTree[emotion];
      currentNode = selectedTree;
      answers = []; // Reset answers for the new emotion

      // Fade out emotion choice elements
      emotionChoiceEl.classList.remove('visible');
      hideButtonContainer(emotionButtonsEl); // Hide emotion choice buttons immediately


      setTimeout(() => {
          // Hide emotion choice elements after fade out
          emotionChoiceEl.style.display = 'none';
          // emotionButtonsEl.style.display = 'none'; // Handled by hideButtonContainer

          // Show question element
          questionEl.style.display = 'block';
          // Show answer buttons (fixed)
          showButtonContainer(answerButtonsEl, 'flex'); // Show answer buttons container


          // Fade in question element and answer buttons
          setTimeout(() => {
               questionEl.classList.add('visible');
               // answerButtonsEl.classList.add('visible'); // Handled by showButtonContainer
               displayQuestion(); // Set the first question text
          }, 50); // Short delay before adding visible class

      }, 500); // Wait for fade out
    }

    // Display the current question
    function displayQuestion() {
      if (currentNode && currentNode.question) {
        questionEl.innerText = currentNode.question;
        // Ensure question element is visible (it might have been faded out)
        if (!questionEl.classList.contains('visible')) {
            questionEl.style.display = 'block';
            setTimeout(() => questionEl.classList.add('visible'), 50);
        }
         // Ensure answer buttons are visible (fixed)
        if (!answerButtonsEl.classList.contains('visible')) {
            answerButtonsEl.style.display = 'flex'; // Fixed position, set display to flex explicitly
            setTimeout(() => answerButtonsEl.classList.add('visible'), 50);
        }

      } else {
        // No more questions, calculate and show the result
        calculateResult();
      }
    }

    // Handle user's answer (Yes/No)
    function handleAnswer(answer) {
      if (currentNode && currentNode[answer]) {
        answers.push(answer);
        currentNode = currentNode[answer];

        // Fade out current question and answer buttons
        questionEl.classList.remove('visible');
        hideButtonContainer(answerButtonsEl); // Hide answer buttons immediately


        setTimeout(() => {
            // Hide elements after fade out
            questionEl.style.display = 'none';
            // answerButtonsEl.style.display = 'none'; // Handled by hideButtonContainer


            // Check if there's a next question before fading in
            if (currentNode && currentNode.question) {
                 displayQuestion(); // Update text and fade in question and answer buttons
            } else {
                // No more questions, transition to result
                // Fade in the result element within the emotion test area
                resultEl.style.display = 'block'; // Result is block within flex container
                setTimeout(() => resultEl.classList.add('visible'), 50);
                calculateResult(); // Calculate and display the result text
            }
        }, 500); // Wait for fade out
      }
    }

    // Calculate and display the final result
    function calculateResult() {
      // Hide question and answer elements if they are still visible
      questionEl.classList.remove('visible');
      hideButtonContainer(answerButtonsEl); // Ensure fixed answer buttons are hidden

      setTimeout(() => {
          questionEl.style.display = 'none';
          // answerButtonsEl.style.display = 'none'; // Handled by hideButtonContainer
      }, 500);

      // í˜„ì¬ ì„ íƒëœ ê°ì •ê³¼ ë‹µë³€ ê²½ë¡œë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.
      const emotion = Object.keys(questionTree).find(key => questionTree[key] === selectedTree);
      const path = answers.join('-');

      // results_data.js íŒŒì¼ì˜ resultTexts ê°ì²´ì—ì„œ í•´ë‹¹ ê°ì •ê³¼ ê²½ë¡œì˜ ê²°ê³¼ í…ìŠ¤íŠ¸ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.
      let fullResultHTML = "<p>ê²°ê³¼ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.</p>"; // ê¸°ë³¸ ì˜¤ë¥˜ ë©”ì‹œì§€ (HTML í˜•ì‹)

      // resultTexts ê°ì²´ê°€ ë¡œë“œë˜ì—ˆëŠ”ì§€, ê·¸ë¦¬ê³  í•´ë‹¹ ê°ì •ê³¼ ê²½ë¡œì˜ ë°ì´í„°ê°€ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸
      if (typeof resultTexts !== 'undefined' && resultTexts[emotion] && resultTexts[emotion][path]) {
          fullResultHTML = resultTexts[emotion][path];
      }

      // ê²°ê³¼ HTMLì„ <hr> íƒœê·¸ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì„¹ì…˜ìœ¼ë¡œ ë¶„í• í•©ë‹ˆë‹¤.
      // ê° ì„¹ì…˜ì˜ ì‹œì‘ ë¶€ë¶„ì— <hr>ì´ ìˆì„ ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ì²« ë²ˆì§¸ ìš”ì†ŒëŠ” ê±´ë„ˆë›°ê±°ë‚˜ ì²˜ë¦¬í•´ì•¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
      // ì—¬ê¸°ì„œëŠ” <hr>ë¡œ ë¶„í• í•˜ê³  ê° ì„¹ì…˜ì˜ ì•ë’¤ ê³µë°±ì„ ì œê±°í•©ë‹ˆë‹¤.
      const sections = fullResultHTML.split('<hr>').map(section => section.trim()).filter(section => section.length > 0);

      // ë¶„í• ëœ ê° ì„¹ì…˜ì—ì„œ ì•„ë¼ë¹„ì•„ ìˆ«ìë¥¼ ì œê±°í•©ë‹ˆë‹¤.
      currentResultSections = sections.map(sectionHTML => processResultSectionHTML(sectionHTML));
      currentSectionIndex = 0; // ì²« ë²ˆì§¸ ì„¹ì…˜ë¶€í„° ì‹œì‘

      // ê²°ê³¼ ì˜ì—­ì€ ì´ë¯¸ showContentAreaì—ì„œ visible ì²˜ë¦¬ë¨.
      // ì´ì œ ê²°ê³¼ í…ìŠ¤íŠ¸ ì˜ì—­ì— ì²« ë²ˆì§¸ ì„¹ì…˜ì„ ë¶€ë“œëŸ¬ìš´ í˜ì´ë“œ ì¸ ì• ë‹ˆë©”ì´ì…˜ìœ¼ë¡œ í‘œì‹œí•©ë‹ˆë‹¤.
      displayResultTextSmoothly(resultTextAreaEl, currentResultSections[currentSectionIndex], () => {
           // í…ìŠ¤íŠ¸ í‘œì‹œ ì™„ë£Œ í›„ ê²°ê³¼ ë²„íŠ¼ ì»¨í…Œì´ë„ˆë¥¼ ë³´ì´ê²Œ í•©ë‹ˆë‹¤.
           showButtonContainer(resultButtonsEl, 'flex'); // Show result buttons container
           updateResultButtons(); // ë²„íŠ¼ ìƒíƒœ ì—…ë°ì´íŠ¸
      });
    }

    // íŠ¹ì • ê²°ê³¼ ì„¹ì…˜ì„ í‘œì‹œí•˜ëŠ” í•¨ìˆ˜ (ë¶€ë“œëŸ¬ìš´ í˜ì´ë“œ ì¸)
    function displayResultSection(index) {
        if (index >= 0 && index < currentResultSections.length) {
            // í˜„ì¬ ì„¹ì…˜ì„ resultTextAreaElì— ë¶€ë“œëŸ¬ìš´ í˜ì´ë“œ ì¸ ì• ë‹ˆë©”ì´ì…˜ìœ¼ë¡œ í‘œì‹œ
            displayResultTextSmoothly(resultTextAreaEl, currentResultSections[index], () => {
                // í…ìŠ¤íŠ¸ í‘œì‹œ ì™„ë£Œ í›„ ë²„íŠ¼ ìƒíƒœ ì—…ë°ì´íŠ¸
                currentSectionIndex = index; // ì¸ë±ìŠ¤ ì—…ë°ì´íŠ¸ëŠ” ì• ë‹ˆë©”ì´ì…˜ ì™„ë£Œ í›„
                updateResultButtons();
            });
        }
    }

    // ê²°ê³¼ í˜ì´ì§€ë„¤ì´ì…˜ ë²„íŠ¼ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” í•¨ìˆ˜
    function updateResultButtons() {
        // ì´ì „ ë²„íŠ¼ ìƒíƒœ
        if (currentSectionIndex > 0) {
            prevButtonEl.style.display = 'inline-block';
        } else {
            prevButtonEl.style.display = 'none';
        }

        // ë‹¤ìŒ ë²„íŠ¼ ìƒíƒœ
        if (currentSectionIndex < currentResultSections.length - 1) {
            nextButtonEl.style.display = 'inline-block';
            restartButtonEl.style.display = 'none'; // ë‹¤ìŒ ë²„íŠ¼ì´ ìˆìœ¼ë©´ ì¬ì‹œì‘ ë²„íŠ¼ ìˆ¨ê¹€
        } else {
            nextButtonEl.style.display = 'none'; // ë§ˆì§€ë§‰ ì„¹ì…˜ì´ë©´ ë‹¤ìŒ ë²„íŠ¼ ìˆ¨ê¹€
            restartButtonEl.style.display = 'inline-block'; // ë§ˆì§€ë§‰ ì„¹ì…˜ì´ë©´ ì¬ì‹œì‘ ë²„íŠ¼ í‘œì‹œ
        }

        // ì¬ì‹œì‘ ë²„íŠ¼ì€ ë§ˆì§€ë§‰ ì„¹ì…˜ì—ì„œë§Œ í‘œì‹œë˜ë¯€ë¡œ ìœ„ì—ì„œ ì²˜ë¦¬
        // prevButtonê³¼ nextButtonì´ ëª¨ë‘ ìˆ¨ê²¨ì§€ë©´ (ì„¹ì…˜ì´ 1ê°œ ì´í•˜), restartButtonë§Œ ë³´ì´ê²Œ ë¨.
        if (currentResultSections.length <= 1) {
             prevButtonEl.style.display = 'none';
             nextButtonEl.style.display = 'none';
             restartButtonEl.style.display = 'inline-block';
        }
    }


    // ê²°ê³¼ í˜ì´ì§€ë„¤ì´ì…˜ íƒìƒ‰ í•¨ìˆ˜
    function navigateResult(direction) {
        const newIndex = currentSectionIndex + direction;
        displayResultSection(newIndex);
    }


    // Restart the test: Hide result, show initial screen
    function restartTest() {
        // Fade out result elements
        resultEl.classList.remove('visible');
        hideButtonContainer(resultButtonsEl); // Hide result buttons container immediately

        setTimeout(() => {
            // Hide elements after fade out
            resultEl.style.display = 'none'; // Hide result area
            // resultButtonsEl.style.display = 'none'; // Handled by hideButtonContainer

            // Reset state variables
            selectedTree = null;
            currentNode = null;
            answers = [];
            currentResultSections = []; // ê²°ê³¼ ì„¹ì…˜ ë°°ì—´ ì´ˆê¸°í™”
            currentSectionIndex = 0; // ì¸ë±ìŠ¤ ì´ˆê¸°í™”


            // Hide emotion test specific elements that might still be visible
            emotionChoiceEl.style.display = 'none';
            questionEl.style.display = 'none';
            answerButtonsEl.style.display = 'none'; // Ensure fixed answer buttons are hidden
            emotionChoiceEl.classList.remove('visible');
            questionEl.classList.remove('visible');
            answerButtonsEl.classList.remove('visible');

            // Go back to the initial page
            showInitialPage();

        }, 500); // Wait for fade out
    }

    // --- Initial Load ---
    window.onload = () => {
        // Initially hide all main content areas and button containers using CSS display: none
        // This is already set in CSS, so no need to explicitly set here on load.
        // Just ensure opacity is 0 for fade-in.
        initialPageEl.style.opacity = 0;
        emotionTestAreaEl.style.opacity = 0;
        quotePageEl.style.opacity = 0;

        const allButtonContainers = document.querySelectorAll('.buttons, .pagination-buttons');
        allButtonContainers.forEach(container => {
             container.style.opacity = 0;
        });


        // Then show the initial page
        showInitialPage();
    };

    // --- Event Listeners ---
    getQuoteButtonEl.addEventListener('click', startSlotAnimation);


  </script>
</body>
</html>
